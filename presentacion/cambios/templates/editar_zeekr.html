<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Editar JSON - Grupo Fersan</title>
  {% load static %}
  <link rel="icon" type="image/png" href="{% static 'images/FERSAN_LOGO_PAGINA.png' %}">
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/styles_editar.css' %}">
</head>
<body id="editar">

  {% include 'components/encabezado_editar.html' %}

  <main class="ml-64 p-8">

    <div class="navigation">
        <a href="{% url 'inicio_usuario' %}" class="back-button">>Regresar</a>
    </div>

      <!-- Formulario general para editar, eliminar y agregar tarjetas -->
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}

            <!-- Sección para editar y eliminar tarjetas existentes -->
            <h2>Editar Tarjetas</h2>

            {% for agencia in zeekr.zeekr_info %}
            <div class="card-section">
                <h4 class="card-title">Agencia {{ forloop.counter }}</h4>

                <!-- Campo Lugar -->
                <label for="lugar_{{ forloop.counter0 }}" class="form-label">Lugar:</label>
                <input type="text" id="lugar_{{ forloop.counter0 }}" name="lugar_{{ forloop.counter0 }}"
                        value="{{ agencia.lugar }}" class="form-input">

                <!-- Campo Logo -->
                <label for="logo_{{ forloop.counter0 }}" class="form-label">Actualizar Logo:</label>
                <input type="file" id="logo_{{ forloop.counter0 }}" name="logo_{{ forloop.counter0 }}" class="form-input">

                <!-- Campo Imagen -->
                <label for="imagen_{{ forloop.counter0 }}" class="form-label">Actualizar Imagen:</label>
                <input type="file" id="imagen_{{ forloop.counter0 }}" name="imagen_{{ forloop.counter0 }}" class="form-input">

                <!-- Campo Concesionario -->
                <label for="concecionario_{{ forloop.counter0 }}" class="form-label">Concesionario:</label>
                <input type="text" id="concecionario_{{ forloop.counter0 }}" name="concecionario_{{ forloop.counter0 }}"
                        value="{{ agencia.concecionario }}" class="form-input">

                <!-- Campo Dirección -->
                <label for="direccion_{{ forloop.counter0 }}" class="form-label">Dirección:</label>
                <input type="text" id="direccion_{{ forloop.counter0 }}" name="direccion_{{ forloop.counter0 }}"
                        value="{{ agencia.direccion }}" class="form-input">

                <!-- Campo Enlace -->
                <label for="enlace_{{ forloop.counter0 }}" class="form-label">Enlace:</label>
                <input type="text" id="enlace_{{ forloop.counter0 }}" name="enlace_{{ forloop.counter0 }}"
                        value="{{ agencia.enlace }}" class="form-input">

                <!-- Campo Teléfono -->
                <label for="telefono_{{ forloop.counter0 }}" class="form-label">Teléfono:</label>
                <input type="text" id="telefono_{{ forloop.counter0 }}" name="telefono_{{ forloop.counter0 }}"
                        value="{{ agencia.telefono }}" class="form-input">

                <!-- Campo Facebook -->
                <label for="facebook_{{ forloop.counter0 }}" class="form-label">Facebook:</label>
                <input type="text" id="facebook_{{ forloop.counter0 }}" name="facebook_{{ forloop.counter0 }}"
                        value="{{ agencia.facebook }}" class="form-input">

                <!-- Campo Instagram -->
                <label for="instagram_{{ forloop.counter0 }}" class="form-label">Instagram:</label>
                <input type="text" id="instagram_{{ forloop.counter0 }}" name="instagram_{{ forloop.counter0 }}"
                        value="{{ agencia.instagram }}" class="form-input">

                <!-- Campo WhatsApp -->
                <label for="whatsapp_{{ forloop.counter0 }}" class="form-label">WhatsApp:</label>
                <input type="text" id="whatsapp_{{ forloop.counter0 }}" name="whatsapp_{{ forloop.counter0 }}"
                        value="{{ agencia.whatsapp }}" class="form-input">

                <!-- Campo LinkedIn -->
                <label for="linkedin_{{ forloop.counter0 }}" class="form-label">LinkedIn:</label>
                <input type="text" id="linkedin_{{ forloop.counter0 }}" name="linkedin_{{ forloop.counter0 }}"
                        value="{{ agencia.linkedin }}" class="form-input">

                <!-- Botón para eliminar tarjeta -->
                <button type="submit" class="form-button delete-button" name="action" value="delete_{{ forloop.counter0 }}">
                    Eliminar Tarjeta
                </button>
            </div>
            {% endfor %}

            <!-- Botón para guardar cambios -->
            <button type="submit" class="form-button save-button" name="action" value="edit">Guardar Cambios</button>
        </form>

        <!-- Sección para agregar una nueva tarjeta -->
        <section class="add-section">
            <h2>Agregar Nueva Agencia</h2>
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <input type="hidden" name="action" value="add">

                <!-- Campos para nueva tarjeta -->
                <label for="nuevo_lugar" class="form-label">Lugar:</label>
                <input type="text" id="nuevo_lugar" name="nuevo_lugar" placeholder="Lugar de la agencia" class="form-input">

                <label for="nuevo_logo" class="form-label">Logo:</label>
                <input type="file" id="nuevo_logo" name="nuevo_logo" class="form-input">

                <label for="nueva_imagen" class="form-label">Imagen:</label>
                <input type="file" id="nueva_imagen" name="nueva_imagen" class="form-input">

                <label for="nuevo_concecionario" class="form-label">Concesionario:</label>
                <input type="text" id="nuevo_concecionario" name="nuevo_concecionario" placeholder="Nombre del concesionario" class="form-input">

                <label for="nueva_direccion" class="form-label">Dirección:</label>
                <input type="text" id="nueva_direccion" name="nueva_direccion" placeholder="Dirección" class="form-input">

                <label for="nuevo_enlace" class="form-label">Enlace:</label>
                <input type="text" id="nuevo_enlace" name="nuevo_enlace" placeholder="URL" class="form-input">

                <label for="nuevo_telefono" class="form-label">Teléfono:</label>
                <input type="text" id="nuevo_telefono" name="nuevo_telefono" placeholder="Teléfono" class="form-input">

                <label for="nuevo_facebook" class="form-label">Facebook:</label>
                <input type="text" id="nuevo_facebook" name="nuevo_facebook" placeholder="URL Facebook" class="form-input">

                <label for="nuevo_instagram" class="form-label">Instagram:</label>
                <input type="text" id="nuevo_instagram" name="nuevo_instagram" placeholder="URL Instagram" class="form-input">

                <label for="nuevo_whatsapp" class="form-label">WhatsApp:</label>
                <input type="text" id="nuevo_whatsapp" name="nuevo_whatsapp" placeholder="Número WhatsApp" class="form-input">

                <label for="nuevo_linkedin" class="form-label">LinkedIn:</label>
                <input type="text" id="nuevo_linkedin" name="nuevo_linkedin" placeholder="URL LinkedIn" class="form-input">


                <!-- Botón para agregar tarjeta -->
                <button type="submit" class="form-button add-button">Agregar Agencia</button>
            </form>
        </section>


      <!-- Mensajes -->
      {% if messages %}
      <div class="messages">
          {% for message in messages %}
              <div class="message {{ message.tags }}">
                  {{ message }}
              </div>
          {% endfor %}
      </div>
      {% endif %}
  </main>

</body>
</html>
